jQuery(function (t) { var e; function s(e, s, o, l, r, c, m, d) { let f; f = r.last().length > 0 ? r.last()[0].clientHeight + "px" : r.clientHeight + "px"; var p = e.find(".dsm-content-timeline-tree-progress"); if (s.css({ bottom: f }), "on" === l && (o = !0), 980 >= t(window).width() && t(window).width() > 767 && "on" === c && (o = !0), 767 > t(window).width() && "on" === m && (o = !0), t(window).width() > 980 && "off" === l && (o = !1, p.css({ height: "0px" }), r.removeClass("dsm-pointer-active")), 980 >= t(window).width() && t(window).width() > 767 && "off" === c && (o = !1, p.css({ height: "0px" }), r.removeClass("dsm-pointer-active")), 767 > t(window).width() && "off" === m && (o = !1, p.css({ height: "0px" }), r.removeClass("dsm-pointer-active")), o) { t(window).on("scroll", function e() { o && (agPosY = t(window).scrollTop(), _()) }), t(window).on("resize", function e() { o && (agPosY = t(window).scrollTop(), g = t(window).height(), _()) }); var h = e.find(".dsm-pointer-wrapper"), u = t(window).outerHeight(), g = t(window).height(), v = -1, $ = !1; function w() { $ = !1, v !== agPosY && (v = agPosY, i = r.last().find(h).offset().top + agPosY - t(window).scrollTop(), a = p.offset().top + agPosY - t(window).scrollTop(), n = agPosY - a + u / 2, n = i <= agPosY + u / 2 ? i - a : agPosY + u / 2 - a, p.css("height", n + "px"), r.each(function () { t(this).find(h).offset().top + agPosY - t(window).scrollTop() < agPosY + .5 * u ? t(this).addClass("dsm-pointer-active") : t(this).removeClass("dsm-pointer-active") })) } function _() { $ || requestAnimationFrame(w), $ = !0 } } } (e = jQuery)(function () { e(".dsm-content-timeline-items-wrapper").each(function (t) { let o = e(this), l = e(this).find(".dsm-content-timeline-tree"); var r = e(this).data("tree-animation"), c = e(this).data("tree-animation-tablet"), m = e(this).data("tree-animation-phone"), d = e(this).data("fill_speed"); let f = o.find(".dsm-content-timeline-item-wrapper"); s(o, l, !1, r, f, c, m, d), e(window).on("resize", () => { s(o, l, !1, r, f, c, m, d) }) }) }), e(".dsm-description p").each(function () { var t = e(this); 0 == t.html().replace(/\s|&nbsp;/g, "").length && t.remove() }) }), document.addEventListener("DOMContentLoaded", function () { let t = window.et_animation_data ?? [], e = Array.from(t); for (let s of t) { let o = -1 !== s.class.indexOf("dsm_content_timeline_"); if (o) { let l = document.querySelector("." + s.class); if (null !== l && l.length > 1) { l.classList.remove("et_animated"), e = e.filter(t => t.class !== s.class); let r = l.querySelectorAll(".dsm-content-timeline-item-wrapper"); for (let c of r) { let m = "dsm_wrapper_" + Array.from(c.classList).find(t => t.startsWith("dsm_content_timeline_child_")); document.querySelector("." + m).classList.add("et_animated"), e.push({ ...s, class: m }) } } } } window.et_animation_data = e }), jQuery(function (t) { let e = document.querySelectorAll(".dsm-content-timeline-items-wrapper"); e.forEach((e, s) => { let o = e.dataset.image_lightbox, l = e.querySelectorAll(".dsm-content-timeline-item-wrapper .dsm-image-wrapper .dsm-image"); "off" !== o && l.forEach((e, s) => { let o = e.querySelector("img"), l = o.getAttribute("src"); t(o).magnificPopup({ items: { src: l }, removalDelay: 500, type: "image" }) }) }) });