window.onload = () => { let a = document.querySelectorAll(".dsm-progress-bar-container"), b = a => { if (null == a) return; let b = window.innerHeight, c = window.scrollY, d = $(a).offset().top, e = a.offsetHeight, f = c + b - d, g = Math.round(f / ((b + e) / 100)); return Math.min(100, Math.max(0, g)) }, c = l => { let { progress: f, relativeTo: g, trackerType: h, showPercentage: m, progressSelector: n, progressDirection: i, progressPercentage: o } = l, a; if ("entire_page" === g) { let j = Math.ceil((document.body.scrollTop || document.documentElement.scrollTop) / (document.documentElement.scrollHeight - document.documentElement.clientHeight) * 100); a = j >= 100 ? 100 : j } if ("selector" === g) { let e = document.querySelector(n), k = void 0 === b(e) && void 0 !== e ? 0 : b(e); a = k >= 100 ? 100 : k } if ("horizontal" === h && f.style.setProperty("width", a + "%"), "circular" === h) { let d = f.querySelector(".dsm-progressbar-circular svg circle.current-progress"), c = 2 * d.r.baseVal.value * Math.PI; d.style.strokeDasharray = c, "right" === i && (d.style.strokeDashoffset = c - a / 100 * c), "left" === i && (d.style.strokeDashoffset = c - ("-" + a / 100) * c) } "on" === m && (o.innerHTML = Math.floor(a) + "%") }; a.forEach(a => { let d = a.dataset.relative, e = a.dataset.show_percentage, b = a.dataset.tracker_type, f = a.dataset.direction, g = a.dataset.selector, h = "horizontal" === b ? a.querySelector(".dsm-current-progress") : a, i = a.querySelector(".dsm-current-progress-percentage"), j = { progress: h, relativeTo: d, trackerType: b, showPercentage: e, progressSelector: g, progressDirection: f, progressPercentage: i }; c(j), document.addEventListener("scroll", function (a) { c(j) }) }) }